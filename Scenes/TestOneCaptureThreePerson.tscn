[gd_scene load_steps=9 format=2]

[ext_resource path="res://Scenes/DefaultTeam.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Agent.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scenes/Arena.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scripts/BattleEvaluator.cs" type="Script" id=6]
[ext_resource path="res://Scripts/BattleFlowManager.cs" type="Script" id=7]
[ext_resource path="res://Scripts/MCTS/SimulatedArenaManager.cs" type="Script" id=8]
[ext_resource path="res://Scripts/PlayerInput.cs" type="Script" id=9]

[sub_resource type="StyleBoxFlat" id=1]
bg_color = Color( 0.32549, 0.74902, 0.368627, 1 )
border_width_left = 1
border_width_top = 1
border_width_bottom = 1
border_color = Color( 0.631373, 0.839216, 0.584314, 1 )
corner_radius_top_left = 2
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 2

[node name="Main" type="Node2D"]

[node name="SimulatedArenaManager" type="Node2D" parent="."]
script = ExtResource( 8 )
_processFactor = 5
_simPerProcessLimit = 4

[node name="BattleEvaluator" type="Node2D" parent="."]
script = ExtResource( 6 )

[node name="BattleFlowManager" type="Node2D" parent="."]
script = ExtResource( 7 )

[node name="Arena" parent="." instance=ExtResource( 3 )]
position = Vector2( 65, 57 )
_teamPositioning = "Default"
_length = 9
_height = 15
_firstCellColor = Color( 1, 1, 1, 1 )
_secondCellColor = Color( 1, 0.839216, 0.839216, 1 )

[node name="TeamPositionings" type="Node2D" parent="."]

[node name="Default" parent="TeamPositionings" instance=ExtResource( 1 )]

[node name="TopTeam" parent="TeamPositionings/Default" index="0"]
_teamName = "Tested"
_initPersonPiecePos = [ 31 ]
_initPersonPieceLiveTime = [ 0 ]
_initPersonPieceIsCaptured = [ false ]

[node name="BottomTeam" parent="TeamPositionings/Default" index="1"]
_teamName = "Opponent"
_castleAreaColor = Color( 1, 0.552941, 0.552941, 1 )
_initPersonPiecePos = [ 50, 64, 121 ]
_initPersonPieceLiveTime = [ 3, 3, 3 ]

[node name="Agents" type="Node2D" parent="."]

[node name="FirstAgent" parent="Agents" instance=ExtResource( 2 )]
_teamName = "Tested"
_teamNodeName = "TopTeam"
_mctsNodeName = "MCTS"
_mctsOpponentNodeName = "MCTS_ForOpponent"

[node name="SimulatedArena" parent="Agents/FirstAgent/MCTS" index="2"]
_arenaPathFromRoot = "/root/LevelSelector/Main"

[node name="MCTS" parent="Agents/FirstAgent/MCTS" index="3"]
_teamName = "Tested"
_isOnePerson = true

[node name="SimulatedArena" parent="Agents/FirstAgent/MCTS_ForOpponent" index="2"]
_arenaPathFromRoot = "/root/LevelSelector/Main"

[node name="MCTS" parent="Agents/FirstAgent/MCTS_ForOpponent" index="3"]
_teamName = "Opponent"

[node name="PlayerInput" type="Node2D" parent="."]
script = ExtResource( 9 )
_selectingTeamName = "Tested"
_firstTeamUseAgent = true
_firstTeamAgentNodeName = "FirstAgent"
_secondTeamAgentNodeName = "FirstAgent"

[node name="Control" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Timer" type="Timer" parent="Control"]
wait_time = 3.0
one_shot = true

[node name="RoundTimer" type="Timer" parent="Control"]
wait_time = 0.2
one_shot = true

[node name="Buttons" type="Control" parent="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 581.0
margin_top = 123.0
margin_right = 581.0
margin_bottom = 123.0

[node name="Execute" type="Button" parent="Control/Buttons"]
margin_right = 228.0
margin_bottom = 57.0
grow_horizontal = 0
grow_vertical = 0
text = "Execute"

[node name="SimulationTrigger" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 79.0
margin_right = 228.0
margin_bottom = 136.0
text = "Simulation Trigger"

[node name="LogSummary" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 148.0
margin_right = 228.0
margin_bottom = 205.0
text = "Log Summary"

[node name="ResetSummary" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 214.0
margin_right = 228.0
margin_bottom = 271.0
text = "Reset Summary"

[node name="TimerProgress" type="ProgressBar" parent="Control"]
margin_left = 580.0
margin_top = 188.0
margin_right = 807.0
margin_bottom = 202.0
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_styles/fg = SubResource( 1 )
step = 0.5
value = 10.0

[editable path="TeamPositionings/Default"]
[editable path="Agents/FirstAgent"]
