[gd_scene load_steps=8 format=2]

[ext_resource path="res://Scenes/Arena.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/DefaultTeam.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/PlayerInput.cs" type="Script" id=3]
[ext_resource path="res://Scripts/BattleEvaluator.cs" type="Script" id=4]
[ext_resource path="res://Scripts/BattleFlowManager.cs" type="Script" id=5]
[ext_resource path="res://Scenes/Agent.tscn" type="PackedScene" id=6]

[sub_resource type="StyleBoxFlat" id=1]
bg_color = Color( 0.32549, 0.74902, 0.368627, 1 )
border_width_left = 1
border_width_top = 1
border_width_bottom = 1
border_color = Color( 0.631373, 0.839216, 0.584314, 1 )
corner_radius_top_left = 2
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 2

[node name="Main" type="Node2D"]

[node name="BattleFlowManagers" type="Node2D" parent="."]

[node name="Arena" type="Node2D" parent="BattleFlowManagers"]
script = ExtResource( 5 )

[node name="Simulated" type="Node2D" parent="BattleFlowManagers"]
script = ExtResource( 5 )

[node name="Arena" parent="." instance=ExtResource( 1 )]
position = Vector2( 65, 57 )
_teamPositioning = "Default"
_length = 9
_height = 15
_firstCellColor = Color( 1, 1, 1, 1 )
_secondCellColor = Color( 1, 0.839216, 0.839216, 1 )

[node name="BattleEvaluator" type="Node2D" parent="."]
script = ExtResource( 4 )

[node name="TeamPositionings" type="Node2D" parent="."]

[node name="Default" parent="TeamPositionings" instance=ExtResource( 2 )]

[node name="PlayerTeam" parent="TeamPositionings/Default" index="0"]
_teamName = "PlayerTeam"
_castleAreaCellIndex = [ 21, 22, 23, 30, 31, 32 ]
_jailAreaCellIndex = [ 53, 52, 51, 44, 43, 42 ]
_initPersonPiecePos = [ 21, 23, 31 ]

[node name="AITeam" parent="TeamPositionings/Default" index="1"]
_teamName = "AITeam"
_castleAreaColor = Color( 1, 0.588235, 0.588235, 1 )
_castleAreaCellIndex = [ 113, 112, 111, 104, 103, 102 ]
_jailAreaCellIndex = [ 81, 82, 83, 90, 91, 92 ]
_initPersonPiecePos = [ 103, 111, 113 ]

[node name="Forward" parent="TeamPositionings" instance=ExtResource( 2 )]

[node name="PlayerTeam" parent="TeamPositionings/Forward" index="0"]
_teamName = "PlayerTeam"
_castleAreaCellIndex = [ 21, 22, 23, 30, 31, 32 ]
_jailAreaCellIndex = [ 53, 52, 51, 44, 43, 42 ]
_initPersonPiecePos = [ 21, 23, 129 ]

[node name="AITeam" parent="TeamPositionings/Forward" index="1"]
_teamName = "AITeam"
_castleAreaColor = Color( 1, 0.588235, 0.588235, 1 )
_castleAreaCellIndex = [ 113, 112, 111, 104, 103, 102 ]
_jailAreaCellIndex = [ 81, 82, 83, 90, 91, 92 ]
_initPersonPiecePos = [ 88, 63, 65 ]

[node name="Agents" type="Node2D" parent="."]

[node name="OpponentAgent" parent="Agents" instance=ExtResource( 6 )]

[node name="MCTS" parent="Agents/OpponentAgent/MCTS_ForOpponent" index="1"]
_teamName = "PlayerTeam"

[node name="PlayerAgent" parent="Agents" instance=ExtResource( 6 )]
_teamName = "PlayerTeam"

[node name="MCTS" parent="Agents/PlayerAgent/MCTS" index="1"]
_teamName = "PlayerTeam"

[node name="MCTS" parent="Agents/PlayerAgent/MCTS_ForOpponent" index="1"]
_teamName = "AITeam"

[node name="PlayerInput" type="Node2D" parent="."]
script = ExtResource( 3 )
_selectingTeamName = "Player"

[node name="Control" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Timer" type="Timer" parent="Control"]
wait_time = 5.0
one_shot = true

[node name="Buttons" type="Control" parent="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 581.0
margin_top = 123.0
margin_right = 581.0
margin_bottom = 123.0

[node name="Execute" type="Button" parent="Control/Buttons"]
margin_right = 228.0
margin_bottom = 57.0
grow_horizontal = 0
grow_vertical = 0
text = "Execute"

[node name="SimulationTrigger" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 79.0
margin_right = 228.0
margin_bottom = 136.0
text = "Simulation Trigger"

[node name="LogSummary" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 148.0
margin_right = 228.0
margin_bottom = 205.0
text = "Log Summary"

[node name="ResetSummary" type="Button" parent="Control/Buttons"]
visible = false
margin_left = -1.0
margin_top = 214.0
margin_right = 228.0
margin_bottom = 271.0
text = "Reset Summary"

[node name="TimerProgress" type="ProgressBar" parent="Control"]
margin_left = 580.0
margin_top = 188.0
margin_right = 807.0
margin_bottom = 202.0
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_styles/fg = SubResource( 1 )
step = 0.5
value = 10.0

[editable path="TeamPositionings/Default"]
[editable path="TeamPositionings/Forward"]
[editable path="Agents/OpponentAgent"]
[editable path="Agents/PlayerAgent"]
